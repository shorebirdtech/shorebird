use serde::Deserialize;

/// Struct for parsing shorebird.yaml.
#[derive(Deserialize)]
pub struct YamlConfig {
    /// Product ID.  Required.  Generated by Shorebird and included
    /// in your app to identify which app/channel/version triple to update.
    pub product_id: String,
    /// Update channel name.  Defaults to "stable" if not set.
    pub channel: Option<String>,
    /// Update URL.  Defaults to the default update URL if not set.
    pub base_url: Option<String>,
}

impl YamlConfig {
    /// Read in shorebird.yaml from a string.
    pub fn from_yaml(yaml: &str) -> Result<Self, serde_yaml::Error> {
        serde_yaml::from_str(yaml)
    }
}
